# Go Bank

Little bank API made as a first contact with the language Go. It features two APIs, one REST API based on the framework
Gin and another one using gRPC. The database used in it is PostgreSQL using SQLc. Asynchronous tasks powered by Redis are
also part of the project.

The Gin REST API features seven different endpoints:
* `POST /users` to create a new user in the system.
* `POST /users/login` to start a new session.
* `POST /session/refresh` to refresh the session.
* `POST /accounts` to create a new bank account.
* `GET /accounts` to retrieve the information of the user accounts, features pagination.
* `GET /accounts/:id` to retrieve the information of a single account.
* `POST /transfers` to create a new money transfer between accounts.

The GRPC API features seven endpoints with their respective HTTP equivalents:
* `CreateUser` / `POST /v1/create_user` to create a new user in the system.
* `LoginUser` / `POST /v1/login_user` to start a new session.
* `UpdateUser` / `PATCH /v1/update_user` to update the information of an user.

## Features

The API has some relevant features like:
* Authentication using PASETO and JWT.
* Data validation for the input fields.
* Easy local deployment with the premade commands in the Makefile and a docker compose for the release version.
* Workflows for testing check and container push.
* Autogenerated documentation following OpenAPIv2.
* Email verification for new users.
* Support for asynchronos background tasks using Redis.

## Deployment

There's a Docker compose file to run the whole environment with ease, it requires Docker:

```sh
docker compose up
```

## Documentation

The database documentation can be check at [https://dbdocs.io/kriogenia/go_bank](https://dbdocs.io/kriogenia/go_bank).

The API documentation is served with the server and it's available at `/openapi/`.